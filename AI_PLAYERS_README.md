# AI Players System - למשחק ויקינגים

## 🤖 סקירה כללית

מערכת AI Players מוסיפה 20 שחקני AI למשחק עם אישיות, התנהגות, והודעות ייחודיות.

---

## 📦 קבצים שנוצרו

### קבצי ליבה:
- **ai_personalities.js** - הגדרות 20 שחקני AI (4 סוגי אישיות)
- **ai_messages.js** - מערכת הודעות ופידבקים
- **ai_decision_engine.js** - מנוע החלטות אסטרטגי
- **ai_actions.js** - מימוש פעולות משחק
- **ai_manager.js** - מנהל AI מתקדם (דורש node-fetch)
- **create_ai_players.js** - יוצר שחקני AI פשוט (ללא תלויות)

### סקריפטים:
- **start_ai.bat** - הרצת יצירת שחקני AI

---

## 🎮 שחקני ה-AI

### 4 סוגי אישיות:

#### ⚔️ לוחמים אגרסיביים (5)
- נמרוד_הכובש, סיגורד_האכזר, רגנר_הפורע, ביורן_המלך, אייבר_חסר_העצמות
- **סגנון:** תוקפניים, כובשי טריטוריות, שולחים איומים
- **משקולות:** תקיפה x3, בנייה x0.5

#### 💰 בוני כלכלה (5)
- הרלד_הסוחר, גונהילד_העשירה, אולף_המלומד, פרייה_הבונה, תורסטן_החכם
- **סגנון:** סוחרים, בונים, ידידותיים
- **משקולות:** בנייה x3, מסחר x2

#### ⚖️ שחקנים מאוזנים (5)
- אייריק_האדום, לגרתה_המלכה, רולו_הצפוני, אסטריד_החזקה, פלוקי_הבונה
- **סגנון:** דיפלומטיים, אופורטוניסטים
- **משקולות:** הכל x1 (מאוזן)

#### 🏰 ממוקדי קלאן (5)
- הראלד_הכחול, יורוק_האחד, אודין_השליט, פרגיה_האמיצה, קטגט_המגן
- **סגנון:** עבודת צוות, מבצרים, שיתוף פעולה
- **משקולות:** קלאן x3, בנייה x1.5

---

## 🚀 איך להשתמש

### שלב 1: צור שחקני AI
```batch
start_ai.bat
```

זה יוצר 20 קבצי שחקנים ב-`data/users/` עם:
- משאבים התחלתיים (לפי רמה)
- מבנים (town hall, barracks, וכו')
- צבא (spearmen, archers, swordsmen)
- טריטוריות כבושות (שדות חיטה, עץ, יין)

### שלב 2: הפעל מחדש את השרת
```batch
full_restart.bat
```

### שלב 3: בדוק במשחק
- פתח מפת העולם 🌎
- תראה 20 שחקני AI פזורים על המפה
- כל אחד עם עיר, צבא, וטריטוריות

---

## 📊 מה כל שחקן מקבל?

### משאבים (לפי רמה):
- 💰 זהב: 40,000-60,000
- 🌲 עץ: 25,000-40,000
- 🌾 אוכל: 20,000-35,000
- 🍷 יין: 4,000-8,000
- 🏛️ שיש: 2,500-5,000
- 💎 קריסטל: 1,500-3,000
- 🔥 גפרית: 800-1,500

### מבנים:
- Town Hall: רמה 6-11
- Barracks: רמה 4-9
- Warehouse: רמה 3-8
- Farm: רמה 5-10
- Lumber Mill: רמה 4-9

### צבא:
- Spearmen: 220-320
- Archers: 110-160
- Swordsmen: 55-80

### טריטוריות:
- 3-5 שדות משאבים כבושים
- רמות 1-3
- פזורים סביב העיר

---

## 🧠 מערכת ההודעות (עתידית)

### סוגי הודעות:

**מלחמה:**
- איומים לפני תקיפה
- הודעות ניצחון/הפסד
- הכרזות כיבוש

**מסחר:**
- הצעות סחר
- תודות על עסקאות

**קלאן:**
- הזמנות לקלאן
- הודעות הישגים

**צ'אט אקראי:**
- שיחת חולין
- טיפים
- הישגים אישיים

### דוגמאות:

**לוחם אגרסיבי:**
```
"הצבא שלי בדרך אליך! 🗡️"
"ניצחון מתוק! תודה על השלל!"
"עיר יפה הייתה לך... 😏"
```

**סוחר כלכלי:**
```
"יש לי הצעה טובה בשבילך בשוק! 💼"
"תודה על העסקה! 🤝"
"שדה חיטה זה השקעה טובה 🌾"
```

**ממוקד קלאן:**
```
"רוצה להצטרף לקלאן שלנו? 🏰"
"תרמתי לאוצר הקלאן היום"
"הקלאן שלנו גדל!"
```

---

## ⚙️ מערכת קבלת החלטות

### עדיפויות:

**קריטי:**
- איסוף משאבים שמלאים
- האכלת צבא (אוכל נמוך)
- הגנה מפני תקיפה

**גבוה:**
- שדרוג Town Hall
- בניית מבנים חיוניים
- אימון צבא מינימלי
- מחקרים

**בינוני:**
- שדרוג מבנים
- כיבוש טריטוריות
- מסחר במשאבי עודף
- אימון צבא נוסף
- שדרוג טריטוריות כבושות

**נמוך:**
- שליחת הודעות
- תקיפת שחקנים
- פעילויות קלאן

### ניקוד החלטות:
כל החלטה מקבלת ניקוד על פי:
1. **עדיפות** (100 = קריטי, 10 = נמוך)
2. **משקל אישיות** (x0.3 - x3.0)
3. **זמינות משאבים**

הפעולה עם הניקוד הגבוה ביותר מתבצעת.

---

## 🔮 גרסה מתקדמת (עתידית)

### מה כבר מוכן:
✅ 20 פרופילים ייחודיים
✅ מערכת הודעות מלאה
✅ מנוע החלטות חכם
✅ קוד פעולות (actions)
✅ AI Manager (צריך node-fetch)

### מה חסר:
- [ ] הרצה אקטיבית (decision cycles)
- [ ] שליחת הודעות למערכת הצ'אט
- [ ] שילוב עם קלאנים
- [ ] תקיפות דינמיות
- [ ] מסחר אוטומטי

### איך להפעיל במלואו:
1. התקן node-fetch: `npm install node-fetch@2`
2. הרץ: `node ai_manager.js`
3. AI players יפעלו כל 2-5 דקות

---

## 📈 סטטיסטיקות

### חלוקת אישיויות:
| סוג | מספר | אחוז |
|-----|------|------|
| Aggressive | 5 | 25% |
| Economic | 5 | 25% |
| Balanced | 5 | 25% |
| Clan | 5 | 25% |

### רמות:
- **ממוצע:** 14
- **טווח:** 11-16
- **סה"כ כוח צבאי:** ~10,000 לוחמים

---

## 🐛 פתרון בעיות

### AI players לא מופיעים במפה?
1. בדוק שהקבצים נוצרו תחת `data/users/`
2. הפעל מחדש את השרת
3. נקה מטמון דפדפן (Ctrl+F5)

### לא רואה הודעות מה-AI?
- הגרסה הנוכחית static - הודעות דורשות את הגרסה המתקדמת

### AI לא עושים פעולות?
- הגרסה הבסיסית יוצרת רק שחקנים
- לפעילות מלאה צריך להריץ `ai_manager.js`

---

## 💡 טיפים

### למפתחים:
- קבצי AI נשמרים ב-`data/users/`
- אפשר לערוך ידנית JSON
- כל שחקן עצמאי לחלוטין

### למשחק:
- AI players מתנהגים כמו שחקנים רגילים
- אפשר לתקוף, לסחור, ולהצטרף לקלאנים איתם
- הם נשארים במשחק לצמיתות (עד מחיקה ידנית)

---

## 🎯 סיכום

המערכת הוסיפה בהצלחה 20 שחקני AI למשחק!

**מה יש:**
- ✅ 20 שחקנים ייחודיים
- ✅ 4 אישיויות שונות  
- ✅ משאבים, צבא, טריטוריות
- ✅ מבנים ושטחים כבושים

**הבא (אופציונלי):**
- 🔧 התנהגות דינמית
- 💬 הודעות וצ'אט
- ⚔️ תקיפות אוטומטיות
- 🏪 מסחר אקטיבי

---

תהנה מהעולם החי! 🎮⚔️
